# Web Application Assessment Methodology/网络应用评估方法

第一步，我们应该收集有关应用程序的信息。

1. 应用程序做什么?

2. 它是用什么语言写的?

3. 应用程序运行在什么服务器软件上?

4. 对这些和其他基本问题的回答将帮助我们了解第一个(或下一个)潜在的攻击向量。

与许多渗透测试规程一样，每次试图攻击或利用的目标都是增加我们在应用程序中的权限，或者转向另一个应用程序或目标。在此过程中，每一次成功的利用都可能授予对应用程序中的新功能或组件的访问权。我们可能需要成功地执行几个攻击，以便从未经身份验证的用户帐户访问推进到系统上的任何shell。

每一步的新功能的枚举都很重要，特别是以前失败的攻击可能在新的上下文中成功。作为渗透测试人员，我们必须继续列举和适应，直到我们用尽了所有的攻击途径或危及系统。

# Web Application Enumeration / Web应用程序枚举

在试图盲目地利用web应用程序之前，确定组成该应用程序的组件是很重要的。许多web应用程序漏洞与技术无关。但是，有些利用和有效负载需要基于应用程序的技术基础(如数据库软件或操作系统)进行设计。在对web应用程序发起任何攻击之前，我们应该尝试发现正在使用的技术堆栈，它通常由以下组件组成:

* 程序设计语言和框架
* Web服务器软件
* 数据库软件
* 服务器操作系统

## Inspecting URLs / 检查网站

文件扩展名有时是URL的一部分，它可以显示编写应用程序所用的编程语言。其中一些扩展(如.php)很简单，但其他扩展则更隐晦，并根据所使用的框架而变化。例如，基于java的web应用程序可能使用.jsp、.do或.html。

然而，web页面上的文件扩展名越来越不常见，因为许多语言和框架现在都支持路由的概念，它允许开发人员将URI映射到代码的一部分。利用路由的应用程序使用逻辑来确定返回给用户的内容，并使URI扩展基本上不相关。

## Inspecting Page Content /检查页面内容

尽管URL检查可以提供一些关于目标web应用程序的线索，但大多数上下文线索都可以在web页面的源中找到。Firefox调试器工具(可以在Web Developer菜单中找到或按ctrl shift k)显示页面的资源和内容，这些内容因应用程序而异。调试器工具可以显示JavaScript框架、隐藏的输入字段、注释、HTML、JavaScript中的客户端控件等等。

**调整代码可读性：点击debugger，代码块左下角点击花括号即可**

*使用右键+q键可以快速定位到当前图像的代码行（查看页面源代码*

## Viewing Response Headers / 查看响应头信息

使用源代码模式，点击network，将当前页面重载，点击headers，即可查看到当前web服务器信息以及版本号。

*一些非标准头文件的例子包括X-Powered-By、x- ams -cf-id和X-Aspnet-Version。对这些名称的进一步研究可以揭示更多的信息，比如“x-amz-cf-id”头，它表明该应用程序使用Amazon CloudFront*

## Inspecting Sitemaps / 检查网站地图

**Web应用程序可以包含站点地图文件，以帮助搜索引擎机器人抓取和索引它们的站点。这些文件还包括不抓取url的指令。这些通常是敏感页面或管理控制台**

```bash
curl https://www.google.com/robots.txt
#使用curl将谷歌的网站地图文件显示出来
```

允许和不允许是网络爬虫程序的指令，分别指示“礼貌的”网络爬虫程序可能访问或可能不访问的页面或目录。虽然列出的页面和目录在大多数情况下可能是无效的，但网站地图文件不应该被忽略，因为它们可能包含关于网站布局的线索或其他有用的信息。

## locating Administration Consoles / 定位管理控制台

略

**未完待续** 